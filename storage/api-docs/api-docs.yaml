swagger: "2.0"
info:
  title: Apartment API Documentation
  description: Apartment API Documentation
  version: 1.0.0
securityDefinitions:
  bearerAuth:
    type: apiKey
    name: Authorization
    in: header
    description: "Nhập Bearer vào trước Token như sau: Bearer 708|yZkrafp2Uxz3lehtpmtw8SOGOqawpDeipxiyS5UA"
paths:
  /api/register:
    post:
      tags:
        - Authenticate
      summary: 'Đăng ký User mới'
      description: 'Đăng ký User mới'
      produces:
        - application/json
      parameters:
        - name: "email"
          in: "query"
          description: "Email"
          required: true
          type: string
          format: "int64"
        - name: "phone_number"
          in: "query"
          description: "Số điện thoại"
          required: true
          type: string
          format: "int64"
        - name: "apartment_id"
          in: "query"
          description: "Phòng"
          required: true
          type: number
          format: "int64"
        - name: "password"
          in: "query"
          description: "Mật khẩu"
          required: true
          type: string
          format: "int64"
        - name: "password_confirmation"
          in: "query"
          description: "Nhập lại mật khẩu"
          required: true
          type: string
          format: "int64"
        - name: "name"
          in: "query"
          description: "Tên"
          required: false
          type: string
          format: "int64"
        - name: "dob"
          in: "query"
          description: "Ngày sinh"
          required: false
          type: string
          format: "int64"
        - name: "number_card"
          in: "query"
          description: "CMND/CCCD"
          required: false
          type: string
          format: "int64"
        - name: "status"
          in: "query"
          description: "Trạng thái"
          required: false
          type: number
          format: "int64"
        - name: "avatar"
          in: "formData"
          description: "Ảnh cá nhân"
          required: false
          type: file
          format: "int64"
        - name: "role_id"
          in: "query"
          description: "Vai trò"
          required: false
          type: number
          format: "int64"
      responses:
        '200':
          description: 'Đăng ký thành công'
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiRegister'
  /api/login:
    post:
      tags:
        - Authenticate
      summary: 'Đăng nhập'
      description: 'Đăng nhập'
      produces:
        - application/json
      parameters:
        - name: "username"
          in: "query"
          description: "Nhập số điện thoại, email hoặc tên phòng"
          required: true
          type: string
        - name: "password"
          in: "query"
          description: "Nhập mật khẩu"
          required: true
          type: string
      responses:
        '200':
          description: "Đăng nhập thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiLogin'
  /api/logout:
    post:
      tags:
        - Authenticate
      summary: 'Đăng xuất'
      description: 'Đăng xuất'
      produces:
        - application/json
      responses:
        '200':
          description: "Đăng xuất thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: 'Logged out'
              data:
                type: array
                example: ''
      security:
        - bearerAuth: []
  /api/change-password:
    post:
      tags:
        - Authenticate
      summary: 'Đổi mật khẩu'
      description: 'Đổi mật khẩu'
      produces:
        - application/json
      parameters:
        - name: "password"
          in: "query"
          description: "Nhập mật khẩu mới"
          required: true
          type: string
        - name: "password_confirmation"
          in: "query"
          description: "Nhập lại mật khẩu mới"
          required: true
          type: string
      responses:
        '200':
          description: "Đổi mật khẩu thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiChangePassword'
      security:
        - bearerAuth: []

  /api/apartment:
    get:
      tags:
        - Apartment
      summary: 'Danh sách căn hộ'
      description: 'Lấy ra danh sách các căn hộ'
      produces:
        - application/json
      parameters:
        - name: "building_id"
          in: "query"
          description: "Tìm kiếm căn hộ theo tòa nhà"
          required: false
          type: number
          format: "int64"
        - name: "keyword"
          in: "query"
          description: "Tìm kiếm căn hộ theo từ khóa"
          required: false
          type: string
          format: "int64"
        - name: "page"
          in: "query"
          description: "Số thứ tự trang"
          required: false
          type: integer
          format: "int64"
        - name: "page_size"
          in: "query"
          description: "Kích cỡ trang"
          required: false
          type: integer
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartment'
  /api/apartment/not-owned:
    get:
      tags:
        - Apartment
      summary: 'Danh sách căn hộ chưa đăng ký User'
      description: 'Lấy ra danh sách các căn hộ chưa đăng ký User'
      produces:
        - application/json
      responses:
        '200':
          description: "Lấy ra danh sách căn hộ chưa đăng ký User thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentNotOwned'
  /api/apartment/not-owned/{id}:
    get:
      tags:
        - Apartment
      summary: 'Danh sách căn hộ chưa đăng ký User và căn hộ có ID trên đường dẫn'
      description: 'Lấy ra danh sách căn hộ chưa đăng ký User và căn hộ có ID trên đường dẫn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của user"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách căn hộ chưa đăng ký User và căn hộ có ID trên đường dẫn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentNotOwnedId'
  /api/apartment/add:
    post:
      tags:
        - Apartment
      summary: 'Tạo mới căn hộ'
      description: 'Tạo mới căn hộ'
      produces:
        - application/json
      parameters:
        - name: "apartment_id"
          in: "query"
          description: "Tên phòng"
          required: true
          type: string
        - name: "floor"
          in: "query"
          description: "Tầng"
          required: true
          type: number
        - name: "status"
          in: "query"
          description: "Trạng thái"
          required: true
          type: number
        - name: "description"
          in: "query"
          description: "Mô tả"
          required: false
          type: string
        - name: "square_meters"
          in: "query"
          description: "Diện tích"
          required: false
          type: string
        - name: "type_apartment"
          in: "query"
          description: "Loại phòng"
          required: true
          type: number
        - name: "building_id"
          in: "query"
          description: "Tóa nhà"
          required: true
          type: number
      responses:
        '200':
          description: "Tạo mới căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentAdd'
  /api/apartment/edit/{id}:
    post:
      tags:
        - Apartment
      summary: "Cập nhật căn hộ"
      description: "Cập nhật 1 căn hộ có trong hệ thống"
      produces:
        - "application/json"
      parameters:
        - name: "id"
          in: "path"
          description: "Id của căn hộ"
          required: true
          type: "integer"
          format: "int64"
        - name: "apartment_id"
          in: "formData"
          description: "Tên phòng"
          required: true
          type: "string"
        - name: "floor"
          in: "formData"
          description: "Tầng"
          required: true
          type: "integer"
        - name: "status"
          in: "formData"
          description: "Trạng thái"
          required: true
          type: "integer"
        - name: "description"
          in: "formData"
          description: "Mô tả"
          required: false
          type: string
        - name: "square_meters"
          in: "formData"
          description: "Diện tích"
          required: false
          type: "integer"
        - name: "type_apartment"
          in: "formData"
          description: "Loại phòng"
          required: true
          type: "integer"
        - name: "building_id"
          in: "formData"
          description: "Tòa nhà"
          required: true
          type: "integer"
      responses:
        '200':
          description: "Cập nhật căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentEdit'
  /api/apartment/{id}:
    get:
      tags:
        - Apartment
      summary: 'Chi tiết căn hộ'
      description: 'Lấy thông tin chi tiết căn hộ theo Id'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của căn hộ"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra chi tiết căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentDetail'
  /api/apartment/{id}/finance:
    get:
      tags:
        - Apartment
      summary: 'Lấy ra danh sách hóa đơn của căn hộ'
      description: 'Lấy ra danh sách hóa đơn của căn hộ theo Id của căn hộ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của căn hộ"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách hóa đơn của căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentFinance'
  /api/apartment/{id}/finance/unpaid:
    get:
      tags:
        - Apartment
      summary: 'Lấy ra danh sách hóa đơn chưa thanh toán'
      description: 'Lấy ra danh sách hóa đơn chưa thanh toán theo căn hộ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của căn hộ"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách hóa đơn chưa thanh toán của căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentFinanceUnPaid'
  /api/apartment/{id}/finance/paid:
    get:
      tags:
        - Apartment
      summary: 'Lấy ra danh sách hóa đơn đã thanh toán'
      description: 'Lấy ra danh sách hóa đơn đã thanh toán theo căn hộ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của căn hộ"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách hóa đơn đã thanh toán của căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentFinancePaid'
  /api/apartment/{id}/finance/{bill_id}/bill-detail:
    get:
      tags:
        - Apartment
      summary: 'Lấy ra chi tiết hóa đơn theo căn hộ và mã hóa đơn'
      description: 'Lấy ra tất cả chi tiết hóa đơn theo mã căn hộ và mã hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của căn hộ"
          required: true
          type: "integer"
          format: "int64"
        - name: "bill_id"
          in: "path"
          description: "ID của hóa đơn"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra chi tiết hóa đơn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentBillDetail'
  /api/apartment/{id}/card:
    get:
      tags:
        - Apartment
      summary: 'Lấy ra danh sách thẻ của căn hộ'
      description: 'Lấy ra danh sách thẻ theo mã căn hộ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của căn hộ"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách thẻ của căn hộ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentCard'
  /api/apartment/{id}/add-card:
    post:
      tags:
        - Apartment
      summary: 'Thêm mới thẻ của căn hộ'
      description: 'Thêm mới thẻ theo mã căn hộ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của căn hộ"
          required: true
          type: "integer"
          format: "int64"
        - name: "name"
          in: "query"
          description: "Tên chủ thẻ"
          required: true
          type: string
        - name: "status"
          in: "query"
          description: "Trạng thái"
          required: true
          type: number
        - name: "expire_time"
          in: "query"
          description: "Ngày hết hạn"
          required: false
          type: string
      responses:
        '200':
          description: "Thêm mới thẻ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiApartmentAddCard'
  /api/apartment/upload-excel:
    post:
      tags:
        - Apartment
      summary: 'Thêm mới căn hộ bằng Excel'
      description: 'Thêm mới căn hộ bằng Excel'
      produces:
        - application/json
      parameters:
        - name: "file_upload"
          in: "formData"
          description: "File Excel upload"
          required: true
          type: file
      responses:
        '200':
          description: "Thêm mới thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example:
              data:
                type: string
                example: 'Import data from excel success fully'

  /api/bill:
    get:
      tags:
        - Bill
      summary: 'Lấy ra danh sách hóa đơn'
      description: 'Lấy ra danh sách hóa đơn'
      produces:
        - application/json
      responses:
        '200':
          description: 'Lấy ra thành công'
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBill'
  /api/bill/add:
    post:
      tags:
        - Bill
      summary: 'Thêm mới hóa đơn'
      description: 'Thêm mới hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "name"
          in: "query"
          description: "Tên hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "apartment_id"
          in: "query"
          description: "Chọn căn hộ"
          required: true
          type: number
          format: "int64"
        - name: "notes"
          in: "query"
          description: "Ghi chú"
          required: false
          type: string
          format: "int64"
      responses:
        '200':
          description:
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillAdd'
  /api/bill/edit/{id}:
    post:
      tags:
        - Bill
      summary: 'Cập nhật hóa đơn'
      description: 'Cập nhật hóa đơn theo mã hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "name"
          in: "query"
          description: "Tên hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "notes"
          in: "query"
          description: "Ghi chú"
          required: false
          type: string
          format: "int64"
      responses:
        '200':
          description:
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillEdit'
  /api/bill/edit/{id}/add-bill-detail:
    post:
      tags:
        - Bill
      summary: 'Thêm chi tiết hóa đơn vào hóa đơn theo căn hộ'
      description: 'Thêm chi tiết hóa đơn vào hóa đơn theo căn hộ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "service_id"
          in: "query"
          description: "Chọn dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "quantity"
          in: "query"
          description: "Số lượng"
          required: false
          type: string
          format: "int64"
      responses:
        '200':
          description: "Thêm mới thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillEditAdd'
  /api/bill/edit/{id}/edit-bill-detail/{bill_detail_id}:
    post:
      tags:
        - Bill
      summary: 'Sửa chi tiết hóa đơn theo mã hóa đơn'
      description: 'Sửa chi tiết hóa đơn theo mã hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "bill_detail_id"
          in: "path"
          description: "Id của hóa đơn chi tiết"
          required: true
          type: string
          format: "int64"
        - name: "service_id"
          in: "query"
          description: "Chọn dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "quantity"
          in: "query"
          description: "Số lượng"
          required: false
          type: string
          format: "int64"
      responses:
        '200':
          description: "Sửa thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillEditEdit'
  /api/bill/edit-status/{id}:
    post:
      tags:
        - Bill
      summary: 'Cập nhật trạng thái hóa đơn'
      description: 'Cập nhật trạng thái hóa đơn theo mã hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "status"
          in: "query"
          description: "Trạng thái"
          required: true
          type: string
          format: "int64"
      responses:
        '200':
          description:
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillEditStatus'
  /api/bill/{id}:
    get:
      tags:
        - Bill
      summary: 'Lấy ra thông tin hóa đơn theo mã hóa đơn'
      description: 'Lấy ra thông tin hóa đơn theo mã hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của hóa đơn"
          required: true
          type: string
          format: "int64"
      responses:
        '200':
          description: "Lấy thông tin hóa đơn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillById'
  /api/bill/{id}/bill-detail:
    get:
      tags:
        - Bill
      summary: 'Lấy ra thông tin hóa đơn theo mã hóa đơn'
      description: 'Lấy ra thông tin hóa đơn theo mã hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của hóa đơn"
          required: true
          type: string
          format: "int64"
      responses:
        '200':
          description:
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillBillDetail'

  /api/bill-detail:
    get:
      tags:
        - Bill Detail
      summary: 'Lấy ra danh sách chi tiết hóa đơn'
      description: 'Lấy ra danh sách chi tiết hóa đơn'
      produces:
        - application/json
      responses:
        '200':
          description: "Lấy ra danh sách chi tiết hóa đơn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillDetail'
  /api/bill-detail/add:
    post:
      tags:
        - Bill Detail
      summary: 'Thêm mới hóa đơn chi tiết'
      description: 'Thêm mới hóa đơn chi tiết'
      produces:
        - application/json
      parameters:
        - name: "service_id"
          in: "query"
          description: "Chọn dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "bill_id"
          in: "query"
          description: "Chọn hóa đơn"
          required: true
          type: number
          format: "int64"
        - name: "quantity"
          in: "query"
          description: "Nhập số lượng"
          required: true
          type: number
          format: "int64"
      responses:
        '200':
          description: "Thêm mới chi tiết hóa đơn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillDetailAdd'
  /api/bill-detail/edit/{id}:
    post:
      tags:
        - Bill Detail
      summary: 'Sửa chi tiết hóa đơn'
      description: 'Sửa chi tiết hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của chi tiết hóa đơn"
          required: true
          type: string
          format: "int64"
        - name: "service_id"
          in: "query"
          description: "Chọn dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "bill_id"
          in: "query"
          description: "Chọn hóa đơn"
          required: true
          type: number
          format: "int64"
        - name: "quantity"
          in: "query"
          description: "Nhập số lượng"
          required: true
          type: number
          format: "int64"
      responses:
        '200':
          description: "Sửa chi tiết hóa đơn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillDetailEdit'
  /api/bill-detail/{id}:
    get:
      tags:
        - Bill Detail
      summary: 'Lấy ra thông tin của chi tiết hóa đơn'
      description: 'Lấy ra thông tin của chi tiết hóa đơn'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của chi tiết hóa đơn"
          required: true
          type: "integer"
          format: "int64"
      responses:
        '200':
          description: "Lấy ra thông tin chi tiết hóa đơn thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBillDetailById'

  /api/building:
    get:
      tags:
        - Building
      summary: 'Lấy ra danh sách tòa nhà'
      description: 'Lấy ra danh sách các tòa nhà'
      produces:
        - application/json
      responses:
        '200':
          description: "Lấy ra danh sách các tòa nhà thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiBuilding'

  /api/service:
    get:
      tags:
        - Service
      summary: 'Lấy ra danh sách các dịch vụ'
      description: 'Lấy ra danh sách các dịch vụ'
      produces:
        - application/json
      parameters:
        - name: "keyword"
          in: "query"
          description: "Từ khóa tìm kiếm"
          required: false
          type: string
          format: "int64"
        - name: "sort"
          in: "query"
          description: "Phương thức sắp xếp"
          required: false
          type: integer
          format: "int64"
        - name: "page"
          in: "query"
          description: "Trang"
          required: false
          type: integer
          format: "int64"
        - name: "page_size"
          in: "query"
          description: "Kích cỡ trang"
          required: false
          type: integer
          format: "int64"
      responses:
        '200':
          description: "Lấy ra danh sách các dịch vụ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiService'
  /api/service/add:
    post:
      tags:
        - Service
      summary: 'Thêm mới dịch vụ'
      description: 'Thêm mới dịch vụ'
      produces:
        - application/json
      parameters:
        - name: "name"
          in: "query"
          description: "Tên dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "price"
          in: "query"
          description: "Giá"
          required: true
          type: number
          format: "int64"
        - name: "description"
          in: "query"
          description: "Mô tả"
          required: false
          type: string
          format: "int64"
        - name: "status"
          in: "query"
          description: "Trạng thái"
          required: false
          type: number
          format: "int64"
      responses:
        '200':
          description: "Thêm mới dịch vụ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiServiceAdd'
  /api/service/edit/{id}:
    post:
      tags:
        - Service
      summary: 'Cập nhật dịch vụ'
      description: 'Cập nhật dịch vụ'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "Id của dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "name"
          in: "query"
          description: "Tên dịch vụ"
          required: true
          type: string
          format: "int64"
        - name: "price"
          in: "query"
          description: "Giá"
          required: true
          type: number
          format: "int64"
        - name: "description"
          in: "query"
          description: "Mô tả"
          required: false
          type: string
          format: "int64"
        - name: "status"
          in: "query"
          description: "Trạng thái"
          required: false
          type: number
          format: "int64"
      responses:
        '200':
          description: "Thêm mới dịch vụ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiServiceEdit'
  /api/service/{id}:
    get:
      tags:
        - Service
      summary: 'Lấy ra thông tin dịch vụ theo Id'
      description: 'Lấy ra thông tin dịch vụ theo Id'
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: "ID của dịch vụ"
          required: true
          type: string
          format: "int64"
      responses:
        '200':
          description: "Lấy ra thông tin dịch vụ thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiServiceDetail'

  /api/user:
    get:
      tags:
        - User
      summary: 'Lấy thông tin User đang đăng nhập'
      description: 'Lấy thông tin User đang đăng nhập'
      produces:
        - application/json
      responses:
        '200':
          description: "Lấy thông tin thành công"
          schema:
            type: object
            properties:
              is_success:
                type: boolean
                example: true
              message:
                type: string
                example: ''
              data:
                type: array
                items:
                  $ref: ''
      security:
        - bearerAuth: []

components:
  schemas:
    ApiRegister:
      type: object
      properties:
        id:
          type: number
          example: 25
        email:
          type: string
          example: "abcabc@gmail.com"
        phone_number:
          type: string
          example: "0844445555"
        name:
          type: string
          example: "Abc Abc"
        dob:
          type: date
          example: "2000-04-04"
        number_card:
          type: string
          example: null
        status:
          type: number
          example: null
        apartment_id:
          type: object
          properties:
            id:
              type: number
              example: 30
            apartment_id:
              type: string
              example: "P209"
            floor:
              type: number
              example: 2
            status:
              type: number
              example: 1
            description:
              type: string
              example: "123"
            square_meters:
              type: number
              example: 290
            type_apartment:
              type: number
              example: 1
            building_id:
              type: number
              example: 2
            user_id:
              type: number
              example: 25
        avatar:
          type: string
          example: null
        role_id:
          type: number
          example: null
      xml:
        name: Register
    ApiLogin:
      type: object
      properties:
        token:
          type: string
          example: "590|0Gxx4c8AunoRjPdHK9LkeGVzchj2wtN8TvgA00rK"
        email:
          type: string
          example: "td.nguyen.1997@gmail.com"
        phone_number:
          type: string
          example: "0399089824"
        name:
          type: string
          example: "Tài Duy"
        dob:
          type: date
          example: "2022-03-10"
        number_card:
          type: string
          example: null
        status:
          type: number
          example: 1
        avatar:
          type: string
          example: null
        role_id:
          type: number
          example: 1
        apartment_id:
          type: number
          example: 42
        apartment_name:
          type: string
          example: "P101"
        building_id:
          type: string
          example: "VP1"
      xml:
        name: Login
    ApiChangePassword:
      type: object
      properties:
        id:
          type: number
          example: 41
        email:
          type: string
          example: "td.nguyen.1997@gmail.com"
        phone_number:
          type: string
          example: "0399089824"
        name:
          type: string
          example: "Tài Duy"
        dob:
          type: date
          example: "2022-03-10"
        number_card:
          type: string
          example: null
        status:
          type: number
          example: 1
        apartment_id:
          type: number
          example: 42
        avatar:
          type: string
          example: null
        role_id:
          type: number
          example: 1
        created_at:
          type: string
          example: "2022-03-14T12:08:39.000000Z"
        updated_at:
          type: string
          example: "2022-03-16T12:20:28.000000Z"
        device_key:
          type: string
          example: null
      xml:
        name: ChangePassword

    ApiApartment:
      type: object
      properties:
        id:
          type: number
          example: 13
        apartment_id:
          type: string
          example: "P101"
        floor:
          type: number
          example: 1
        status:
          type: number
          example: 1
        description:
          type: string
          example: "Phong 2 ban cong"
        square_meters:
          type: number
          example: 50
        type_apartment:
          type: number
          example: 1
        building_id:
          type: string
          example: "VP1"
        email:
          type: string
          example: "td.nguyen.1997@gmail.com"
        phone_number:
          type: string
          example: "0399089824"
        name:
          type: string
          example: "Tài Duy"
      xml:
        name: Apartment
    ApiApartmentNotOwned:
      type: object
      properties:
        id:
          type: number
          example: 31
        apartment_id:
          type: string
          example: "P777"
        floor:
          type: number
          example: 7
        status:
          type: number
          example: 1
        description:
          type: string
          example: "Phong 2 ban cong"
        square_meters:
          type: number
          example: 50
        type_apartment:
          type: number
          example: 1
        building_id:
          type: string
          example: "VP3"
      xml:
        name: ApartmentNotOwned
    ApiApartmentNotOwnedId:
      type: object
      properties:
        id:
          type: number
          example: 31
        apartment_id:
          type: string
          example: "P777"
        floor:
          type: number
          example: 7
        status:
          type: number
          example: 1
        description:
          type: string
          example: "Phong 2 ban cong"
        square_meters:
          type: number
          example: 50
        type_apartment:
          type: number
          example: 1
        building_id:
          type: string
          example: "VP3"
      xml:
        name: ApartmentNotOwnedId
    ApiApartmentAdd:
      type: object
      properties:
        apartment_id:
          type: string
          example: "P888"
        floor:
          type: number
          example: 8
        status:
          type: number
          example: 1
        description:
          type: text
          example: "Phòng rộng"
        square_meters:
          type: number
          example: 50
        type_apartment:
          type: number
          example: 0
        building_id:
          type: number
          example: 1
        id:
          type: number
          example: 32
      xml:
        name: ApartmentAdd
    ApiApartmentEdit:
      type: object
      properties:
        apartment_id:
          type: string
          example: "P888"
        floor:
          type: number
          example: 8
        status:
          type: number
          example: 1
        description:
          type: text
          example: "Phòng rộng"
        square_meters:
          type: number
          example: 50
        type_apartment:
          type: number
          example: 0
        building_id:
          type: number
          example: 1
        id:
          type: number
          example: 32
      xml:
        name: ApartmentEdit
    ApiApartmentDetail:
      type: object
      properties:
        id:
          type: number
          example: 13
        apartment_id:
          type: string
          example: "P101"
        phone_number:
          type: string
          example: "0399089824"
        building_name:
          type: string
          example: "VP1"
        square_meters:
          type: number
          example: 120
        status:
          type: number
          example: 1
        name:
          type: string
          example: "Tài Duy"
        avatar:
          type: string
          example: null
      xml:
        name: ApartmentDetail
    ApiApartmentFinance:
      type: object
      properties:
        id:
          type: number
          example: 5
        ten_hoa_don:
          type: string
          example: "Hóa đơn tháng 2/2022"
        ten_chu_ho:
          type: string
          example: "Nguyễn Văn A"
        apartment_id:
          type: string
          example: "VP1"
        amount:
          type: number
          example: 120
        status:
          type: number
          example: 1
        created_at:
          type: string
          example: "2022-03-08T08:16:54.000000Z"
        updated_at:
          type: string
          example: "2022-03-16T13:03:35.000000Z"
        so_luong_hdct:
          type: number
          example: 4
      xml:
        name: ApartmentFinance
    ApiApartmentFinanceUnPaid:
      type: object
      properties:
        id:
          type: number
          example: 5
        ten_hoa_don:
          type: string
          example: "Hóa đơn tháng 2/2022"
        ten_chu_ho:
          type: string
          example: "Nguyễn Văn A"
        apartment_id:
          type: string
          example: "VP1"
        amount:
          type: number
          example: 120
        status:
          type: number
          example: 1
        created_at:
          type: string
          example: "2022-03-08T08:16:54.000000Z"
        updated_at:
          type: string
          example: "2022-03-16T13:03:35.000000Z"
        so_luong_hdct:
          type: number
          example: 4
      xml:
        name: ApartmentFinancePaid
    ApiApartmentFinancePaid:
      type: object
      properties:
        id:
          type: number
          example: 5
        ten_hoa_don:
          type: string
          example: "Hóa đơn tháng 2/2022"
        ten_chu_ho:
          type: string
          example: "Nguyễn Văn A"
        apartment_id:
          type: string
          example: "VP1"
        amount:
          type: number
          example: 120
        status:
          type: number
          example: 1
        created_at:
          type: string
          example: "2022-03-08T08:16:54.000000Z"
        updated_at:
          type: string
          example: "2022-03-16T13:03:35.000000Z"
        so_luong_hdct:
          type: number
          example: 4
      xml:
        name: ApartmentFinancePaid
    ApiApartmentBillDetail:
      type: object
      properties:
        id:
          type: number
          example: 16
        bill_id:
          type: number
          example: 5
        ten_hoa_don:
          type: string
          example: "Hóa đơn tháng 1/2022"
        ten_dich_vu:
          type: string
          example: "Xe máy"
        don_gia:
          type: number
          example: 4500
        quantity:
          type: number
          example: 2
        total_price:
          type: number
          example: 9000
        apartment_id:
          type: number
          example: 13
      xml:
        name: ApartmentBillDetail
    ApiApartmentCard:
      type: object
      properties:
        id:
          type: number
          example: 6
        number:
          type: string
          example: "123211123"
        name:
          type: string
          example: "Ngô Trọng"
        status:
          type: number
          example: 1
        expire_time:
          type: string
          example: "2022-03-18 00:00:00"
        so_luong_phuong_tien:
          type: number
          example: 2
      xml:
        name: ApartmentCard
    ApiApartmentAddCard:
      type: object
      properties:
        name:
          type: string
          example: "Văn Huy"
        status:
          type: number
          example: 0
        expire_time:
          type: string
          example: "2022-03-30T10:39"
        number:
          type: string
          example: "131666929"
        apartment_id:
          type: number
          example: 13
        id:
          type: number
          example: 20
      xml:
        name: ApartmentAddCard

    ApiBill:
      type: object
      properties:
        id:
          type: number
          example: 5
        name:
          type: string
          example: "Hóa đơn tháng 1/2022"
        amount:
          type: number
          example: 1060000
        status:
          type: number
          example: 0
        type_payment:
          type: number
          example: 0
        payment_method:
          type: number
          example: 0
        image:
          type: string
          example: null
        fax:
          type: string
          example: null
        apartment_id:
          type: number
          example: 13
        notes:
          type: string
          example: "abc"
        receiver_id:
          type: string
          example: null
      xml:
        name: Bill
    ApiBillAdd:
      type: object
      properties:
        id:
          type: number
          example: 34
        name:
          type: string
          example: "Duy's bill"
        amount:
          type: number
          example: 0
        status:
          type: number
          example: 0
        type_payment:
          type: number
          example: 0
        payment_method:
          type: number
          example: 0
        image:
          type: string
          example: null
        fax:
          type: string
          example: null
        apartment_id:
          type: number
          example: 13
        notes:
          type: string
          example: "Hóa đơn T3"
        receiver_id:
          type: string
          example: null
      xml:
        name: Bill
    ApiBillEdit:
      type: object
      properties:
        id:
          type: number
          example: 34
        name:
          type: string
          example: "Duy's bill"
        amount:
          type: number
          example: 0
        status:
          type: number
          example: 0
        type_payment:
          type: number
          example: 0
        payment_method:
          type: number
          example: 0
        image:
          type: string
          example: null
        fax:
          type: string
          example: null
        apartment_id:
          type: number
          example: 13
        notes:
          type: string
          example: "Hóa đơn T3"
        receiver_id:
          type: string
          example: null
        created_at:
          type: string
          example: "2022-03-17T03:58:30.000000Z"
        updated_at:
          type: string
          example: "2022-03-17T04:05:27.000000Z"
      xml:
        name: BillEdit
    ApiBillEditAdd:
      type: object
      properties:
        id:
          type: number
          example: 34
        name:
          type: string
          example: "Duy's bill"
        amount:
          type: number
          example: 900000
        status:
          type: number
          example: 0
        type_payment:
          type: number
          example: 0
        payment_method:
          type: number
          example: 0
        image:
          type: string
          example: null
        fax:
          type: string
          example: null
        apartment_id:
          type: number
          example: 13
        notes:
          type: string
          example: "Hóa đơn T3"
        receiver_id:
          type: string
          example: null
        created_at:
          type: string
          example: "2022-03-17T03:58:30.000000Z"
        updated_at:
          type: string
          example: "2022-03-17T04:05:27.000000Z"
      xml:
        name: BillEditAdd
    ApiBillEditEdit:
      type: object
      properties:
        id:
          type: number
          example: 34
        name:
          type: string
          example: "Duy's bill"
        amount:
          type: number
          example: 900000
        status:
          type: number
          example: 0
        type_payment:
          type: number
          example: 0
        payment_method:
          type: number
          example: 0
        image:
          type: string
          example: null
        fax:
          type: string
          example: null
        apartment_id:
          type: number
          example: 13
        notes:
          type: string
          example: "Hóa đơn T3"
        receiver_id:
          type: string
          example: null
        created_at:
          type: string
          example: "2022-03-17T03:58:30.000000Z"
        updated_at:
          type: string
          example: "2022-03-17T04:05:27.000000Z"
      xml:
        name: BillEditEdit
    ApiBillEditStatus:
      type: object
      properties:
        id:
          type: number
          example: 34
        name:
          type: string
          example: "Duy's bill"
        amount:
          type: number
          example: 900000
        status:
          type: number
          example: 1
        type_payment:
          type: number
          example: 0
        payment_method:
          type: number
          example: 0
        image:
          type: string
          example: null
        fax:
          type: string
          example: null
        apartment_id:
          type: number
          example: 13
        notes:
          type: string
          example: "Hóa đơn T3"
        receiver_id:
          type: string
          example: null
        created_at:
          type: string
          example: "2022-03-17T03:58:30.000000Z"
        updated_at:
          type: string
          example: "2022-03-17T04:05:27.000000Z"
      xml:
        name: BillEditEdit
    ApiBillById:
      type: object
      properties:
        id:
          type: number
          example: 34
        ten_hoa_don:
          type: string
          example: "Duy's bill"
        amount:
          type: number
          example: 900000
        status:
          type: number
          example: 1
        apartment_id:
          type: number
          example: 30
        bill_detail_id:
          type: number
          example: 30
        quantity:
          type: number
          example: 30
        service_id:
          type: number
          example: 4
        price:
          type: number
          example: 900000
        total_price:
          type: number
          example: 900000
        ten_dich_vu:
          type: string
          example: "Xe máy"
      xml:
        name: BillById
    ApiBillBillDetail:
      type: object
      properties:
        id:
          type: number
          example: 48
        name:
          type: string
          example: "Tiền nước"
        price:
          type: number
          example: 4500
        bill_id:
          type: number
          example: 34
        quantity:
          type: number
          example: 153
        total_price:
          type: number
          example: 2176207
      xml:
        name: BillBillDetail

    ApiBillDetail:
      type: object
      properties:
        id:
          type: number
          example: 16
        service_id:
          type: number
          example: 6
        bill_id:
          type: number
          example: 5
        quantity:
          type: number
          example: 2
        total_price:
          type: number
          example: 9000
    ApiBillDetailAdd:
      type: object
      properties:
        service_id:
          type: number
          example: 7
        bill_id:
          type: number
          example: 6
        quantity:
          type: number
          example: 100
        total_price:
          type: number
          example: 150000
        id:
          type: number
          example: 17
      xml:
        name: BillDetailAdd
    ApiBillDetailEdit:
      type: object
      properties:
        id:
          type: number
          example: 49
        service_id:
          type: number
          example: 6
        bill_id:
          type: number
          example: 32
        quantity:
          type: number
          example: 100
        total_price:
          type: number
          example: 1331970
      xml:
        name: BillDetailEdit
    ApiBillDetailById:
      type: object
      properties:
        id:
          type: number
          example: 49
        service_id:
          type: number
          example: 6
        bill_id:
          type: number
          example: 32
        quantity:
          type: number
          example: 100
        total_price:
          type: number
          example: 1331970
      xml:
        name: BillDetailById

    ApiBuilding:
      type: object
      properties:
        id:
          type: number
          example: 1
        name:
          type: string
          example: "VP 1"

    ApiService:
      type: object
      properties:
        id:
          type: number
          example: 3
        name:
          type: string
          example: "Phí dịch vụ"
        price:
          type: number
          example: 50000
        icon:
          type: string
          example: null
        description:
          type: string
          example: "Thu tiền tuần thứ 2 hàng"
        status:
          type: number
          example: 0
      xml:
        name: Service
    ApiServiceAdd:
      type: object
      properties:
        name:
          type: string
          example: "Tiền nước"
        price:
          type: number
          example: 50000
        description:
          type: string
          example: "Dịch vụ đóng hàng tháng vào chủ nhật đầu tháng"
        icon:
          type: string
          example: null
        id:
          type: number
          example: 51
      xml:
        name: Service
    ApiServiceEdit:
      type: object
      properties:
        id:
          type: number
          example: 51
        name:
          type: string
          example: "Tiền nước"
        price:
          type: number
          example: 50000
        icon:
          type: string
          example: null
        description:
          type: string
          example: "Dịch vụ đóng hàng tháng vào chủ nhật đầu tháng"
        status:
          type: number
          example: 0
      xml:
        name: ServiceEdit
    ApiServiceDetail:
      type: object
      properties:
        id:
          type: number
          example: 51
        name:
          type: string
          example: "Tiền nước"
        price:
          type: number
          example: 50000
        icon:
          type: string
          example: null
        description:
          type: string
          example: "Dịch vụ đóng hàng tháng vào chủ nhật đầu tháng"
        status:
          type: number
          example: 0
      xml:
        name: ServiceEdit
